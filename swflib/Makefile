# Makefile generated by OCamake 
# http://tech.motion-twin.com
.SUFFIXES : .ml .mli .cmo .cmi .cmx .mll .mly

CFLAGS= -I ../extlib -I ../extc -g
LIBS=
LFLAGS= -o swflib.cmxa -a

all: swflib.cmxa

swflib.cmxa: as3code.cmx png.cmx swf.cmx actionScript.cmx as3parse.cmx swfPic.cmx as3hlparse.cmx swfParser.cmx
	ocamlopt $(LFLAGS) $(LIBS) as3code.cmx png.cmx swf.cmx actionScript.cmx as3parse.cmx swfPic.cmx as3hlparse.cmx swfParser.cmx

actionScript.cmx: swf.cmx

as3code.cmx: as3.cmi

as3hl.cmi: as3.cmi

as3hlparse.cmx: as3parse.cmx as3hl.cmi as3code.cmx as3.cmi

as3parse.cmx: as3code.cmx as3.cmi

png.cmx: png.cmi

swf.cmx: as3.cmi

swfParser.cmx: swf.cmx as3parse.cmx actionScript.cmx

swfPic.cmx: swf.cmx png.cmi


clean:
	rm -f swflib.cmxa
	rm -f swflib.lib swflib.a
	rm -f swfPic.obj swfPic.cmx swfPic.cmi swfParser.obj swfParser.cmx swfParser.cmi swf.obj swf.cmx swf.cmi png.cmi png.obj png.cmx png.cmi as3parse.obj as3parse.cmx as3parse.cmi as3hlparse.obj as3hlparse.cmx as3hlparse.cmi as3hl.cmi as3code.obj as3code.cmx as3code.cmi as3.cmi actionScript.obj actionScript.cmx actionScript.cmi

# SUFFIXES
.ml.cmo:
	ocamlc $(CFLAGS) -c $<

.ml.cmx:
	ocamlopt $(CFLAGS) -c $<

.mli.cmi:
	ocamlc $(CFLAGS) $<

.mll.ml:
	ocamllex $<

.mly.ml:
	ocamlyacc $<

